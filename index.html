<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS MASTERPIECE | REZA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { nexus: '#00f2fe', dark: '#020617', glass: 'rgba(15, 23, 42, 0.85)' },
                    animation: { 'spin-slow': 'spin 8s linear infinite', 'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite' }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@200;400;700;900&display=swap');
        body { font-family: 'Vazirmatn', sans-serif; background: #000000; color: #e2e8f0; overflow-x: hidden; }
        
        /* Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ù…ØªØ­Ø±Ú© */
        .bg-animate {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -1;
            background: radial-gradient(circle at 50% 50%, #1e293b 0%, #000000 100%);
        }
        .orb { position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.4; animation: float 10s infinite ease-in-out; }
        .orb-1 { width: 300px; height: 300px; background: #00f2fe; top: -50px; left: -50px; }
        .orb-2 { width: 400px; height: 400px; background: #3b82f6; bottom: -100px; right: -100px; animation-delay: -5s; }
        @keyframes float { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(30px, 50px); } }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ */
        .cyber-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            transition: all 0.4s ease;
        }
        .cyber-card:hover { border-color: rgba(0, 242, 254, 0.3); transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0, 242, 254, 0.1); }

        .section { display: none; opacity: 0; transform: translateY(20px); transition: all 0.5s ease; }
        .section.active { display: block; opacity: 1; transform: translateY(0); }

        /* --- Ø³ÛŒØ³ØªÙ… Ú©Ø§ÙÙ‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡ --- */
        .cup-wrapper { position: relative; width: 180px; height: 240px; display: flex; align-items: flex-end; justify-content: center; }
        .cup-body {
            position: relative; width: 150px; height: 120px;
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(203,213,225,0.8) 100%);
            border-radius: 10px 10px 70px 70px;
            border: 1px solid rgba(255,255,255,0.4);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); z-index: 10; overflow: hidden;
        }
        .cup-liquid {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 0%;
            background: #3f2e27; transition: height 2s ease-out, background 0.5s;
        }
        .cup-handle {
            position: absolute; right: -40px; top: 80px; width: 50px; height: 60px;
            border: 12px solid rgba(255,255,255,0.8); border-radius: 50%; z-index: 5;
        }
        .stream {
            position: absolute; top: 0; left: 50%; transform: translateX(-50%);
            width: 8px; height: 0; background: #3f2e27; z-index: 20; border-radius: 0 0 10px 10px; transition: height 0.3s;
        }
        /* Ø§ÙÚ©Øª Ø¨Ø®Ø§Ø± (Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ú¯Ø±Ù…) */
        .steam-smoke {
            position: absolute; top: 60px; left: 50%; transform: translateX(-50%);
            width: 60px; height: 60px; background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, transparent 70%);
            filter: blur(10px); opacity: 0; animation: none; z-index: 15;
        }
        @keyframes steaming { 0% { top: 60px; opacity: 0; width: 40px; } 50% { opacity: 0.6; } 100% { top: -20px; opacity: 0; width: 100px; } }

        /* Ø§ÙÚ©Øª ÛŒØ® (Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø³Ø±Ø¯) */
        .ice-cube {
            position: absolute; width: 30px; height: 30px; background: rgba(255,255,255,0.4);
            border: 1px solid white; border-radius: 4px; bottom: 10px; left: 30%;
            display: none; animation: floatIce 3s infinite ease-in-out;
        }
        @keyframes floatIce { 0%,100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-5px) rotate(10deg); } }

        /* --- Ø³Ø§ÛŒØ± --- */
        .progress-bar { transition: width 1s ease-in-out; }
    </style>
</head>
<body>

    <div class="bg-animate"><div class="orb orb-1"></div><div class="orb orb-2"></div></div>

    <div id="login-overlay" class="fixed inset-0 z-[999] flex items-center justify-center bg-black/90 backdrop-blur-xl transition-opacity duration-700">
        <div class="text-center w-full max-w-md p-8">
            <div class="w-24 h-24 mx-auto mb-8 rounded-full border-4 border-nexus shadow-[0_0_30px_#00f2fe] flex items-center justify-center animate-pulse">
                <i class="fas fa-fingerprint text-5xl text-nexus"></i>
            </div>
            <h1 class="text-4xl font-black text-white mb-2 tracking-[5px]">NEXUS</h1>
            <p class="text-nexus mb-8 opacity-70">SYSTEM V.4.0 FINAL</p>
            <input id="username" type="text" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ..." class="w-full bg-white/10 border border-white/20 rounded-xl p-4 text-center text-white placeholder-white/30 outline-none focus:border-nexus transition mb-4">
            <button onclick="bootSystem()" class="w-full bg-nexus text-black font-black py-4 rounded-xl hover:bg-white hover:scale-105 transition shadow-lg shadow-nexus/20">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…</button>
        </div>
    </div>

    <div id="app-container" class="hidden min-h-screen flex flex-col max-w-7xl mx-auto p-4 md:p-6">
        
        <header class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 bg-gradient-to-tr from-nexus to-blue-600 rounded-xl flex items-center justify-center shadow-lg"><i class="fas fa-cube text-xl text-black"></i></div>
                <div>
                    <h2 class="text-2xl font-black tracking-tighter">NEXUS <span class="text-nexus">OS</span></h2>
                    <p class="text-[10px] text-gray-400 tracking-widest uppercase">Ø³Ø·Ø­ Ø¯Ø³ØªØ±Ø³ÛŒ: Ø§Ø¯Ù…ÛŒÙ†</p>
                </div>
            </div>
            
            <nav class="bg-white/5 backdrop-blur-md p-1.5 rounded-2xl border border-white/10 flex gap-1 overflow-x-auto max-w-full">
                <button onclick="setTab('dashboard')" class="nav-btn px-4 py-2 rounded-xl text-sm font-bold hover:bg-white/10 text-gray-300 hover:text-nexus transition flex items-center gap-2"><i class="fas fa-home"></i> Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</button>
                <button onclick="setTab('cafe')" class="nav-btn px-4 py-2 rounded-xl text-sm font-bold hover:bg-white/10 text-gray-300 hover:text-nexus transition flex items-center gap-2"><i class="fas fa-coffee"></i> Ú©Ø§ÙÙ‡</button>
                <button onclick="setTab('system')" class="nav-btn px-4 py-2 rounded-xl text-sm font-bold hover:bg-white/10 text-gray-300 hover:text-nexus transition flex items-center gap-2"><i class="fas fa-server"></i> Ø³ÛŒØ³ØªÙ…</button>
                <button onclick="setTab('tools')" class="nav-btn px-4 py-2 rounded-xl text-sm font-bold hover:bg-white/10 text-gray-300 hover:text-nexus transition flex items-center gap-2"><i class="fas fa-toolbox"></i> Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§</button>
            </nav>
        </header>

        <main class="flex-grow">
            <section id="dashboard" class="section active">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <div class="cyber-card p-8 md:col-span-2 relative overflow-hidden flex flex-col justify-center">
                        <div class="absolute right-0 top-0 w-64 h-64 bg-nexus/10 rounded-full blur-3xl -mr-16 -mt-16"></div>
                        <h1 class="text-4xl md:text-5xl font-black mb-4">ÙˆÙ‚Øª Ø¨Ø®ÛŒØ±ØŒ <span id="user-name-display" class="text-nexus">Ø±Ø¶Ø§</span></h1>
                        <p class="text-lg opacity-60">Ø§Ù…Ø±ÙˆØ² Ú†Ù‡ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ§ÛŒ Ø¯Ø§Ø±ÛŒØŸ Ø³ÛŒØ³ØªÙ… Ø¯Ø± ÙˆØ¶Ø¹ÛŒØª Ù¾Ø§ÛŒØ¯Ø§Ø± Ø§Ø³Øª.</p>
                    </div>
                    <div class="cyber-card p-8 text-center flex flex-col justify-center items-center">
                        <div id="clock-time" class="text-5xl font-black text-white mb-2 font-[monospace]">12:00</div>
                        <div id="clock-date" class="text-nexus font-bold">Û±Û´Û°Û³/Û±Û°/Û°Ûµ</div>
                        <div class="mt-4 text-xs opacity-50 bg-white/5 px-3 py-1 rounded-full">ØªÙ‡Ø±Ø§Ù†ØŒ Ø§ÛŒØ±Ø§Ù†</div>
                    </div>
                </div>

                <div class="cyber-card p-6 flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <i class="fas fa-cloud-sun text-5xl text-yellow-400"></i>
                        <div>
                            <div class="text-2xl font-bold">Û²Û´ Ø¯Ø±Ø¬Ù‡</div>
                            <div class="text-sm opacity-60">ØµØ§Ù Ùˆ Ø¢ÙØªØ§Ø¨ÛŒ</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm mb-1">Ø±Ø·ÙˆØ¨Øª: <span class="text-nexus">Û³Û°Ùª</span></div>
                        <div class="text-sm">Ø¨Ø§Ø¯: <span class="text-nexus">Û±Û² km/h</span></div>
                    </div>
                </div>
            </section>

            <section id="cafe" class="section">
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                    <div class="lg:col-span-7 space-y-6">
                        <div class="cyber-card p-6">
                            <h3 class="text-xl font-bold mb-4 text-orange-400 flex items-center gap-2"><i class="fas fa-fire"></i> Ø¨Ø§Ø± Ú¯Ø±Ù…</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="makeDrink('hot', 'Ø§Ø³Ù¾Ø±Ø³Ùˆ', '#2b1700', 30)" class="bg-white/5 hover:bg-orange-500/20 p-4 rounded-xl text-right transition border border-transparent hover:border-orange-500/50">â˜• Ø§Ø³Ù¾Ø±Ø³Ùˆ</button>
                                <button onclick="makeDrink('hot', 'Ù„ØªÙ‡', '#d6b48f', 85)" class="bg-white/5 hover:bg-orange-500/20 p-4 rounded-xl text-right transition border border-transparent hover:border-orange-500/50">ğŸ¥› Ù„ØªÙ‡ Ø¢Ø±Øª</button>
                                <button onclick="makeDrink('hot', 'Ù…ÙˆÚ©Ø§', '#4a3728', 90)" class="bg-white/5 hover:bg-orange-500/20 p-4 rounded-xl text-right transition border border-transparent hover:border-orange-500/50">ğŸ« Ù…ÙˆÚ©Ø§</button>
                                <button onclick="makeDrink('hot', 'Ø¢Ù…Ø±ÛŒÚ©Ø§Ù†Ùˆ', '#3d2b1f', 95)" class="bg-white/5 hover:bg-orange-500/20 p-4 rounded-xl text-right transition border border-transparent hover:border-orange-500/50">ğŸ‡ºğŸ‡¸ Ø¢Ù…Ø±ÛŒÚ©Ø§Ù†Ùˆ</button>
                            </div>
                        </div>
                        <div class="cyber-card p-6">
                            <h3 class="text-xl font-bold mb-4 text-blue-400 flex items-center gap-2"><i class="fas fa-snowflake"></i> Ø¨Ø§Ø± Ø³Ø±Ø¯</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="makeDrink('cold', 'Ø¢ÛŒØ³ Ú©Ø§ÙÛŒ', '#3d2b1f', 80)" class="bg-white/5 hover:bg-blue-500/20 p-4 rounded-xl text-right transition border border-transparent hover:border-blue-500/50">ğŸ§Š Ø¢ÛŒØ³ Ú©Ø§ÙÛŒ</button>
                                <button onclick="makeDrink('cold', 'ÙØ±Ø§Ù¾Ø§Ú†ÛŒÙ†Ùˆ', '#eaddcf', 95)" class="bg-white/5 hover:bg-blue-500/20 p-4 rounded-xl text-right transition border border-transparent hover:border-blue-500/50">ğŸ¦ ÙØ±Ø§Ù¾Ø§Ú†ÛŒÙ†Ùˆ</button>
                            </div>
                        </div>
                    </div>

                    <div class="lg:col-span-5 cyber-card p-10 flex flex-col items-center justify-center min-h-[400px] relative">
                        <div id="cafe-stream" class="stream"></div>
                        <div id="cafe-steam" class="steam-smoke"></div>
                        
                        <div class="cup-wrapper">
                            <div class="cup-handle"></div>
                            <div class="cup-body">
                                <div id="cafe-liquid" class="cup-liquid"></div>
                                <div id="ice-1" class="ice-cube" style="left: 20%; animation-delay: 0s;"></div>
                                <div id="ice-2" class="ice-cube" style="left: 60%; animation-delay: 1.5s;"></div>
                            </div>
                        </div>

                        <div id="cafe-msg" class="mt-8 text-xl font-bold text-center h-8">Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ØŒ Ø³ÙØ§Ø±Ø´ Ø¯Ù‡ÛŒØ¯</div>
                        <audio id="sound-pour" src="https://www.soundjay.com/misc/sounds/pouring-water-1.mp3"></audio>
                    </div>
                </div>
            </section>

            <section id="system" class="section">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="cyber-card p-6">
                        <h3 class="font-bold text-nexus mb-6 border-b border-white/10 pb-2">Ù…Ù†Ø§Ø¨Ø¹ Ø³ÛŒØ³ØªÙ…</h3>
                        
                        <div class="mb-4">
                            <div class="flex justify-between mb-1"><span class="text-sm">Ø¨Ø§ØªØ±ÛŒ</span><span id="sys-bat" class="text-sm font-mono">--%</span></div>
                            <div class="h-2 bg-white/10 rounded-full overflow-hidden"><div id="bar-bat" class="h-full bg-green-500 w-0 progress-bar"></div></div>
                        </div>
                        
                        <div class="mb-4">
                            <div class="flex justify-between mb-1"><span class="text-sm">Ø­Ø§ÙØ¸Ù‡ (Ram Estimation)</span><span class="text-sm font-mono">~4GB-8GB</span></div>
                            <div class="h-2 bg-white/10 rounded-full overflow-hidden"><div class="h-full bg-purple-500 w-[60%] animate-pulse"></div></div>
                        </div>

                        <div class="mb-4">
                            <div class="flex justify-between mb-1"><span class="text-sm">ÙˆØ¶Ø¹ÛŒØª Ø´Ø¨Ú©Ù‡</span><span class="text-sm font-mono text-green-400">ONLINE</span></div>
                            <div class="h-2 bg-white/10 rounded-full overflow-hidden"><div class="h-full bg-nexus w-full"></div></div>
                        </div>
                    </div>

                    <div class="cyber-card p-6 font-mono text-xs md:text-sm overflow-hidden">
                        <h3 class="font-bold text-nexus mb-4 border-b border-white/10 pb-2 font-sans">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø³ØªÚ¯Ø§Ù‡</h3>
                        <div class="space-y-2 opacity-70">
                            <p>> PLATFORM: <span id="sys-os" class="text-white">...</span></p>
                            <p>> RESOLUTION: <span id="sys-res" class="text-white">...</span></p>
                            <p>> CORES: <span id="sys-core" class="text-white">...</span></p>
                            <p>> BROWSER: <span id="sys-browser" class="text-white">Chrome/V8</span></p>
                            <p class="text-green-400 mt-4">> SYSTEM STATUS: STABLE</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="tools" class="section">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                    <button onclick="openTool('bmi')" class="cyber-card p-6 hover:bg-white/5 text-center group">
                        <i class="fas fa-weight-scale text-3xl mb-3 text-green-400 group-hover:scale-110 transition"></i>
                        <div class="font-bold">ØªØ³Øª BMI</div>
                    </button>
                    <button onclick="openTool('pomodoro')" class="cyber-card p-6 hover:bg-white/5 text-center group">
                        <i class="fas fa-stopwatch text-3xl mb-3 text-red-400 group-hover:scale-110 transition"></i>
                        <div class="font-bold">ØªØ§ÛŒÙ…Ø± ØªÙ…Ø±Ú©Ø²</div>
                    </button>
                    <button onclick="openTool('pass')" class="cyber-card p-6 hover:bg-white/5 text-center group">
                        <i class="fas fa-key text-3xl mb-3 text-yellow-400 group-hover:scale-110 transition"></i>
                        <div class="font-bold">Ù¾Ø³ÙˆØ±Ø¯ Ø³Ø§Ø²</div>
                    </button>
                    <button onclick="openTool('notes')" class="cyber-card p-6 hover:bg-white/5 text-center group">
                        <i class="fas fa-sticky-note text-3xl mb-3 text-purple-400 group-hover:scale-110 transition"></i>
                        <div class="font-bold">ÛŒØ§Ø¯Ø¯Ø§Ø´Øª</div>
                    </button>
                </div>

                <div id="tool-panel" class="cyber-card p-8 min-h-[200px]">
                    <div id="tool-content-bmi" class="tool-content hidden text-center">
                        <h3 class="text-xl font-bold mb-4">Ù…Ø­Ø§Ø³Ø¨Ù‡â€ŒÚ¯Ø± Ø³Ù„Ø§Ù…ØªÛŒ</h3>
                        <div class="flex gap-4 justify-center mb-4">
                            <input type="number" id="bmi-w" placeholder="ÙˆØ²Ù† (kg)" class="bg-white/5 p-2 rounded text-center w-24 border border-white/20">
                            <input type="number" id="bmi-h" placeholder="Ù‚Ø¯ (cm)" class="bg-white/5 p-2 rounded text-center w-24 border border-white/20">
                        </div>
                        <button onclick="calcBMI()" class="bg-green-600 px-6 py-2 rounded-lg font-bold">Ù…Ø­Ø§Ø³Ø¨Ù‡</button>
                        <div id="bmi-res" class="mt-4 text-xl"></div>
                    </div>

                    <div id="tool-content-pomodoro" class="tool-content hidden text-center">
                        <h3 class="text-xl font-bold mb-4">ØªØ§ÛŒÙ…Ø± Ù¾ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ (Û²Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡)</h3>
                        <div id="pomo-timer" class="text-6xl font-black font-mono mb-6">25:00</div>
                        <div class="flex gap-4 justify-center">
                            <button onclick="startPomo()" class="bg-red-600 px-6 py-2 rounded-lg">Ø´Ø±ÙˆØ¹</button>
                            <button onclick="resetPomo()" class="bg-white/10 px-6 py-2 rounded-lg">Ø±ÛŒØ³Øª</button>
                        </div>
                    </div>

                    <div id="tool-content-pass" class="tool-content hidden text-center">
                        <h3 class="text-xl font-bold mb-4">ØªÙˆÙ„ÛŒØ¯ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ù…Ù†</h3>
                        <div id="pass-display" class="bg-black/30 p-4 rounded-xl font-mono text-2xl text-yellow-400 mb-4 tracking-widest">---</div>
                        <button onclick="genPass()" class="bg-yellow-600 px-6 py-2 rounded-lg font-bold text-black">ØªÙˆÙ„ÛŒØ¯ Ø¬Ø¯ÛŒØ¯</button>
                    </div>

                    <div id="tool-content-notes" class="tool-content hidden">
                        <h3 class="text-xl font-bold mb-4 text-center">Ø¯ÙØªØ±Ú†Ù‡ ÛŒØ§Ø¯Ø¯Ø§Ø´Øª (Ø°Ø®ÛŒØ±Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø±)</h3>
                        <textarea id="notepad" class="w-full h-32 bg-white/5 rounded-xl p-4 text-white border border-white/10 focus:border-purple-500 outline-none" placeholder="Ú†ÛŒØ²ÛŒ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..."></textarea>
                        <p class="text-xs opacity-50 mt-2 text-right">* Ù…ØªÙ† Ø´Ù…Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
                    </div>
                    
                    <div id="tool-placeholder" class="text-center opacity-40 py-10">
                        <i class="fas fa-arrow-up mb-2"></i>
                        <p>ÛŒÚ© Ø§Ø¨Ø²Ø§Ø± Ø±Ø§ Ø§Ø² Ø¨Ø§Ù„Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        let currentUser = "Ú©Ø§Ø±Ø¨Ø±";
        let pomoInterval;

        // --- Ø±Ø§Ù‡ Ø§Ù†Ø¯Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ… ---
        function bootSystem() {
            const inputName = document.getElementById('username').value;
            if(input
